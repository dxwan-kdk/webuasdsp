<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DSP Web Pengolahan Citra (Python)</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo">DSP</div>
        <div>
          <div class="title">Web Pengolahan Citra</div>
          <div class="subtitle">Flask + OpenCV (Downsampling, Upsampling, Aliasing, Sharpen, Contrast)</div>
        </div>
      </div>
      <a class="pill" href="https://flask.palletsprojects.com/" target="_blank" rel="noreferrer">Powered by Flask</a>
    </header>

    <main class="content">
      <section class="panel">
        <h2>1) Upload Gambar</h2>

        <div class="upload">
          <input id="file" type="file" accept="image/*" />
          <div class="hint">Format: PNG/JPG/JPEG/BMP/WEBP · Maks 12MB</div>
        </div>

        <h2>2) Pilih Operasi</h2>

        <div class="grid">
          <label class="field">
            <span>Operasi</span>
            <select id="operation">
              <option value="downsampling">Downsampling</option>
              <option value="upsampling">Upsampling</option>
              <option value="aliasing">Aliasing (Downsample tanpa AA lalu Up ke ukuran awal)</option>
              <option value="sharpen">Sharpen (Unsharp Mask)</option>
              <option value="contrast">Contrast (+ Brightness)</option>
            </select>
          </label>

          <label class="field" data-show="downsampling aliasing">
            <span>Factor (2–32)</span>
            <input id="factor" type="number" min="2" max="32" value="8" />
          </label>

          <label class="field" data-show="downsampling">
            <span>Anti-aliasing</span>
            <select id="antialias">
              <option value="1" selected>ON (lebih halus)</option>
              <option value="0">OFF (lebih pecah)</option>
            </select>
          </label>

          <label class="field" data-show="upsampling">
            <span>Scale (2–8)</span>
            <input id="scale" type="number" min="2" max="8" value="2" />
          </label>

          <label class="field" data-show="upsampling aliasing">
            <span>Metode Resize</span>
            <select id="method">
              <option value="nearest" selected>Nearest</option>
              <option value="bilinear">Bilinear</option>
              <option value="bicubic">Bicubic</option>
            </select>
          </label>

          <label class="field" data-show="sharpen">
            <span>Amount (0.0–3.0)</span>
            <input id="amount" type="number" min="0" max="3" step="0.1" value="1.0" />
          </label>

          <label class="field" data-show="sharpen">
            <span>Radius (1–15)</span>
            <input id="radius" type="number" min="1" max="15" value="3" />
          </label>

          <label class="field" data-show="contrast">
            <span>Alpha / Kontras (0.5–3.0)</span>
            <input id="alpha" type="number" min="0.5" max="3" step="0.1" value="1.3" />
          </label>

          <label class="field" data-show="contrast">
            <span>Beta / Brightness (-100–100)</span>
            <input id="beta" type="number" min="-100" max="100" value="0" />
          </label>
        </div>

        <div class="actions">
          <button id="btnProcess" class="btn primary">Proses</button>
          <button id="btnReset" class="btn">Reset</button>
        </div>

        <div id="status" class="status" hidden></div>
      </section>

      <section class="panel">
        <h2>Hasil</h2>

        <div class="results" id="results">
          <div class="card">
            <div class="cardTitle">Input</div>
            <div class="cardBody placeholder" id="inWrap">
              <div class="ph">Belum ada gambar</div>
            </div>
          </div>

          <div class="card">
            <div class="cardTitle">Output</div>
            <div class="cardBody placeholder" id="outWrap">
              <div class="ph">Belum diproses</div>
            </div>
          </div>
        </div>

        <div id="meta" class="meta" hidden></div>
      </section>
    </main>

    <footer class="footer">
      <div>© {{ 2025 }} DSP Web Pengolahan Citra · Python (Flask + OpenCV)</div>
    </footer>
  </div>

  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
